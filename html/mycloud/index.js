/** * 我的摄像机-云储存查看 */define(['regularjs', 'jquery', '../../javascript/base/util', '../../html/mycloud/index.html', '../../javascript/widget/tip.js', '../../javascript/widget/dialog.js', '../../html/sliderbar/index.js', '../../javascript/widget/pager/pager.js', '../../javascript/widget/videoPlay.js', '../../javascript/base/const.js', '../../html/page/page.js'], function(Regular, $, util, index, tip, dialog, sliderbar, pager, videoPlay, api, pages) {    require('../../css/mycloud.css');    var app = Regular.extend({        template: '<sliderbarTpl pro = {user}>' + index + '</sliderbarTpl>',        data: {            //登陆账户密码            user: {                nick: '',                icon: '',                type: 2 //左侧导航栏模块标识            },            show: {                nav: 1,                myRecordList: { //我的摄像机列表                    record: [],                    more: true, //是否还有更多                    loadStatus: false, //下拉加载状态                    noRecord: false,                    noPower: false                },                query: {                    deviceId: '',                    start: 0,                    end: 0,                    limit: 40,                    offset: 0                },                renderListDay: '',                recordListPerHour: []            },            config: {                switchRun: 0, //运行开关                switchNight: 0, //夜视模式                switchVoice: 0, //声音开关                switchPic: 0, //画面清晰度                switchRotate: 0, //画面颠倒                deviceId: '', // 设备id                cameraName: '' //设备名称            },            renderConfig: {                deviceDetail: {} //单个设备信息            },            testData: {                "message": "success",                "recordSwitch": 1,                "code": 200,                "records": [{                    "from": 1492463682000,                    "to": 1492463739000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492463684710_1492463741870_312799453-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508015746&Signature=3zqj2pezdx8qx28M93Y9K4ZR%2FIV%2F1fw5jtaTOCEX6YE%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492463684710_1492463741870_312799453-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=geUTsK12DTnnqi5ih%2BxgQHH4a1%2FeLF4EptFWRnl6tqg%3D",                    "fileSize": "1.4M",                    "etag": "c9ea1440c358ce747ce3aaf362b7bb20",                    "yearAndMonth": "2017041805",                    "minAndSecord": "1442"                }, {                    "from": 1492441924000,                    "to": 1492442000000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492441926612_1492442003492_312432925-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507994009&Signature=ty%2BPAVkG%2BtAfrdQwW49grAl8E20C3b7dmg3KKeWpUGg%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492441926612_1492442003492_312432925-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=Pypsa%2BA6gUYvZFdnhqn5%2BY2g%2BvuU3TycE4csVbMEOFA%3D",                    "fileSize": "1.4M",                    "etag": "029aeae05150cdb3dcf9ec50b7b5922e",                    "yearAndMonth": "2017041723",                    "minAndSecord": "1204"                }, {                    "from": 1492441334000,                    "to": 1492441408000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492441336371_1492441411011_312418645-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507993397&Signature=j6K5v%2BH1pE0mYdcS%2Bqn5dLScwtlNlbBfos7EMhpEWG4%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492441336371_1492441411011_312418645-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=n%2B70tsD%2BHVU9Dn%2F%2BSv9V%2BLuCm3mr7%2FPzwR7BpBd%2Fe40%3D",                    "fileSize": "1.4M",                    "etag": "6ad7d4d7fed8742680bc3efed915d51c",                    "yearAndMonth": "2017041723",                    "minAndSecord": "0214"                }, {                    "from": 1492435765000,                    "to": 1492435821000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492435767213_1492435823365_312256417-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507987828&Signature=AHPheFChtbROc%2BSj%2BiHQERo1m0f8wrmhXrRTmhW1Bz0%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492435767213_1492435823365_312256417-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=0kUsHgs8uYIIBI92KXfYEgeL6qmp6MM98aU6gDpvGX0%3D",                    "fileSize": "1.0M",                    "etag": "febc304a091f0f48cb8b473766f3674b",                    "yearAndMonth": "2017041721",                    "minAndSecord": "2925"                }, {                    "from": 1492434595000,                    "to": 1492434704000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492434597092_1492434706292_312216075-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507986712&Signature=4qG1SS3Aroui7r7qXJmuMrZ74UmGQ%2Fpn5EHS5WhXzdc%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492434597092_1492434706292_312216075-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=qvdnGA2bpVzxh8dOZZYaywYALIwdYsgwryRjSvU7XJk%3D",                    "fileSize": "2.2M",                    "etag": "eb829c216b997586285d9ca3fcde2c73",                    "yearAndMonth": "2017041721",                    "minAndSecord": "0955"                }, {                    "from": 1492434519000,                    "to": 1492434595000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492434521838_1492434598224_312213442-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507986584&Signature=V7UEu3ygVHHe60jXK3o0euONAeXCuulnh6pv1HCozMA%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492434521838_1492434598224_312213442-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=79D%2FiUEOzectuD%2BaV6UBsMh8GZkwEXjSDOJsQlCxoTI%3D",                    "fileSize": "1.1M",                    "etag": "935e0a45db7a9cdb454fe54b706e04f3",                    "yearAndMonth": "2017041721",                    "minAndSecord": "0839"                }, {                    "from": 1492434305000,                    "to": 1492434381000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492434307663_1492434384103_312205913-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507986370&Signature=ue8b6chzZ6YZi8mbmUvWzxWaK1RM8mPPkHIqWlzOazI%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492434307663_1492434384103_312205913-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=1tn5p0Fi%2BGSqbW%2Fp5kZfOfhMvATX8mQku3T6z8JNY6k%3D",                    "fileSize": "1.2M",                    "etag": "4546e17e39000152c63d02abea811bdf",                    "yearAndMonth": "2017041721",                    "minAndSecord": "0505"                }, {                    "from": 1492378375000,                    "to": 1492378449000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492378377248_1492378452128_310092115-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507930450&Signature=waeowB5TMaEOIEwVRGD1H1Rm4pSJsdzHSJ3WL7m2DNE%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492378377248_1492378452128_310092115-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=GAQv5NUjeC8swzKhslvFnNALmeSWi3VjZd66OHXacvs%3D",                    "fileSize": "1.8M",                    "etag": "3c301a4d09968125395c0d89b1778b43",                    "yearAndMonth": "2017041705",                    "minAndSecord": "3255"                }, {                    "from": 1492377806000,                    "to": 1492377972000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492377808266_1492377974666_310082033-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507929966&Signature=EvD42kotOmxGDE4cmyz%2Ba%2FGMjZdO4%2FB2xGA3xXY9O9U%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492377808266_1492377974666_310082033-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060162&Signature=5zUyZYxlurUKLcsatNO6aHf1CSgYwFAaOhd5nn5%2Bm04%3D",                    "fileSize": "4.4M",                    "etag": "6531431f88a0a721fd9473d576412555",                    "yearAndMonth": "2017041705",                    "minAndSecord": "2326"                }, {                    "from": 1492375783000,                    "to": 1492375860000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492375785053_1492375862093_310049943-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507927849&Signature=U7UffGBLMfCLE82wsl0wU7WADiWKUgeHwDxGxLjKaMc%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492375785053_1492375862093_310049943-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=q%2Fk%2BM5Y68yT05kZzGcc0SRiKHOHxTBFu3Z3IY6HDtvE%3D",                    "fileSize": "1.4M",                    "etag": "b6a5b9a840a3fce609d9689b1cf3c9bb",                    "yearAndMonth": "2017041704",                    "minAndSecord": "4943"                }, {                    "from": 1492375620000,                    "to": 1492375698000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492375622360_1492375701272_310047430-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507927686&Signature=B3RO5mQyoWaBEn5OrMWXpCchNlW4FsPQr0dcLj%2F%2Fo%2FE%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492375622360_1492375701272_310047430-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=Cuk35REMGcKlbHzKuUsAzUSFp3PAE%2Bs9n4zA5%2Fuzvfo%3D",                    "fileSize": "1.3M",                    "etag": "a6419baa6d4b641796cbeb658a102b8a",                    "yearAndMonth": "2017041704",                    "minAndSecord": "4700"                }, {                    "from": 1492374890000,                    "to": 1492374952000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492374892881_1492374955137_310036535-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507926958&Signature=hb4hFoMTqMyWdVNTQ7oNeZDsEssD%2FvsRIEfilSDhzAc%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492374892881_1492374955137_310036535-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=t%2FNPOzAMlxE%2FusbPIsiFNfanVbB%2BKQ6k1c7eupN%2FO1k%3D",                    "fileSize": "1.2M",                    "etag": "c0f12c1af396e41ffcffad8b8a3dd2ed",                    "yearAndMonth": "2017041704",                    "minAndSecord": "3450"                }, {                    "from": 1492374751000,                    "to": 1492374824000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492374753410_1492374827394_310034509-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507926815&Signature=UmyRIPj3ft58RzkgJLWgZhiFvsUBC3ubYoXWukQPpUQ%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492374753410_1492374827394_310034509-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=FGHivuVMbUlPBd7jD1GXo0Cm9LtUxdaJoYeMTIlQWkw%3D",                    "fileSize": "1.2M",                    "etag": "c15d35402c698d39d2d5f3af61dd1378",                    "yearAndMonth": "2017041704",                    "minAndSecord": "3231"                }, {                    "from": 1492374622000,                    "to": 1492374681000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492374624299_1492374683675_310032600-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507926685&Signature=OPJAwfQjdAhyukXBT5ge%2BFt3V9%2BM6njykiEuNyEsePQ%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492374624299_1492374683675_310032600-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=ySjRul8uDwt6zFuLx9ktM9jpJi1R0fxv9Bcd8MCyuPc%3D",                    "fileSize": "1.0M",                    "etag": "9caa19d91f0ecfd302f71f7dc480a52f",                    "yearAndMonth": "2017041704",                    "minAndSecord": "3022"                }, {                    "from": 1492374468000,                    "to": 1492374525000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492374470733_1492374528637_310030347-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507926534&Signature=XDrzirCM2aKXCDS%2FvCl9o%2B2pean6jRhXCOlnkCDwebU%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492374470733_1492374528637_310030347-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=caa8z1QjdWRMEyxAlrHUTNYH1SzT03ZShop2%2FJTqhs8%3D",                    "fileSize": "1.1M",                    "etag": "1c01def08b68586c5b7d66f5707cd2b2",                    "yearAndMonth": "2017041704",                    "minAndSecord": "2748"                }, {                    "from": 1492374359000,                    "to": 1492374436000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492374361995_1492374439627_310028754-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507926426&Signature=B3wwV5d0q5FqR4xVUJMePnyMG1rwWvAVvknvjxy0U40%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492374361995_1492374439627_310028754-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=K16l%2BQT7%2F9Q2NUzyzpg50k%2Bfj7DUFu8EUuJPq4gtYUY%3D",                    "fileSize": "1.3M",                    "etag": "06c8e24a393422e78fa9ec961a055c59",                    "yearAndMonth": "2017041704",                    "minAndSecord": "2559"                }, {                    "from": 1492374257000,                    "to": 1492374334000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492374259387_1492374336667_310027205-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507926320&Signature=JXAhp5RtcDTA1J5FwdSdncs9dZZPhvgNvKBg0rttpIE%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492374259387_1492374336667_310027205-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=rmTKywRqUSnCPlpEn8NkUcdhJtOrwNQMjYl45jmU9ZA%3D",                    "fileSize": "1.3M",                    "etag": "11f2c4f2c68c59c360227f3f4f5aed42",                    "yearAndMonth": "2017041704",                    "minAndSecord": "2417"                }, {                    "from": 1492358707000,                    "to": 1492358782000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492358709310_1492358784430_309785675-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507910771&Signature=f9weNNP6r%2FArumOlUdxCBTqKLyjJBw92Y5fyAxZt0U4%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492358709310_1492358784430_309785675-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=VFjgg3RZup4admuJhiOMiVsEcRJbA0MxqHd%2FzGmfDWA%3D",                    "fileSize": "1.4M",                    "etag": "85354a5cdbaa4c9627ac183947dbac2c",                    "yearAndMonth": "2017041700",                    "minAndSecord": "0507"                }, {                    "from": 1492356086000,                    "to": 1492356166000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492356088061_1492356168221_309731037-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507908164&Signature=KJII59GlUA7bEN2zEKP8webp99lEIpdFDru%2F0n2xL5Y%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492356088061_1492356168221_309731037-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=wBwx7jWZRGCOzYZiVWJ3go9A4vuY3j4QqgrddzGybFg%3D",                    "fileSize": "1.5M",                    "etag": "ac74fbe5ffa5248a07df9471ba1b0c2d",                    "yearAndMonth": "2017041623",                    "minAndSecord": "2126"                }, {                    "from": 1492355471000,                    "to": 1492355529000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492355473445_1492355532085_309716952-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507907537&Signature=3XrMUIoDbWAAt0H6nhJqTwB5ViqG5gX4%2Bi25QmZdTUU%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492355473445_1492355532085_309716952-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=75pI0FnLwnzeT0zRieFnP%2BM%2Bly5n7W%2FAsz7WBnshv4o%3D",                    "fileSize": "1.1M",                    "etag": "d32688a270352a1ed9ec44d234a42626",                    "yearAndMonth": "2017041623",                    "minAndSecord": "1111"                }, {                    "from": 1492355211000,                    "to": 1492355233000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492355213314_1492355236180_309710894-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507907268&Signature=GwMEIVvnj4m3kwyGggMb0n0zA5Q4u7lhq%2Bohuoo54RQ%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492355213314_1492355236180_309710894-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=2NgKexxue%2BBe5XCvf7EfselPWXXKQkhgrJmtRUfpNU0%3D",                    "fileSize": "0.4M",                    "etag": "4608fde1c4b2113fa41b306b91ae2a4b",                    "yearAndMonth": "2017041623",                    "minAndSecord": "0651"                }, {                    "from": 1492355027000,                    "to": 1492355101000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492355029604_1492355104212_309706556-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507907110&Signature=ILcXj%2FyF4U49MDkFakPtIwin%2BfrflQvLKCRZznIliQM%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492355029604_1492355104212_309706556-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=R0FbyvIxxypKo5A0zMziQCkXpPhSM1bFtL2kMRegANQ%3D",                    "fileSize": "1.3M",                    "etag": "5b7d0df68333839c8981ecef481a6d36",                    "yearAndMonth": "2017041623",                    "minAndSecord": "0347"                }, {                    "from": 1492354243000,                    "to": 1492354295000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492354245867_1492354298027_309682615-00001_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507906289&Signature=pHQ%2FFoZlDTSJa4qULlgA8RWAAwF2xOdjRjcz5YWARnU%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492354245867_1492354298027_309682615-00001.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=%2B1wcRYvu1x05zdUd1i1kbso7NbiY3sQRiCsX0%2BXaoWI%3D",                    "fileSize": "1.8M",                    "etag": "b6892272383f9642aac8e06678055b4f",                    "yearAndMonth": "2017041622",                    "minAndSecord": "5043"                }, {                    "from": 1492354063000,                    "to": 1492354243000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492354065001_1492354245867_309682615-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507906238&Signature=86wFw2GvxHQXUl5oJRPtO7NaXJ4Dit8LqX2H9MGrG2Y%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492354065001_1492354245867_309682615-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=qaXFh6WHlCrXwFB%2BT9vJjs5MwHvXCXKbQkjsVDX70KY%3D",                    "fileSize": "5.9M",                    "etag": "1a07cd4a11d68074d4d3c5fb224ca4be",                    "yearAndMonth": "2017041622",                    "minAndSecord": "4743"                }, {                    "from": 1492353776000,                    "to": 1492353846000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492353778213_1492353848549_309675398-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507905840&Signature=zKCfMa4GCtxUvRGR6nGRK42F2%2F5dVJLp0DEOf4JiDww%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492353778213_1492353848549_309675398-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=cB%2F27KrXiB8WYGi2Q2aM3cREWcnoE1wxG8QuGKq2Q10%3D",                    "fileSize": "1.8M",                    "etag": "c8ca4274901fb3a8a385dcea0ab8b971",                    "yearAndMonth": "2017041622",                    "minAndSecord": "4256"                }, {                    "from": 1492353155000,                    "to": 1492353224000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492353157071_1492353226703_309659155-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507905218&Signature=nxWyU%2BHoDjJh8mkzntz7kH6E%2FfxRh7AN2exp2z4JqOI%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492353157071_1492353226703_309659155-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=RaC7GZguz46zVh91HF9VnlUDkziR6Fz9UK7CCBOS9Dc%3D",                    "fileSize": "1.9M",                    "etag": "0ffc988bee8704a70b5e04554a4ee020",                    "yearAndMonth": "2017041622",                    "minAndSecord": "3235"                }, {                    "from": 1492350644000,                    "to": 1492350714000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492350646621_1492350717597_309587217-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507902711&Signature=TrV%2BsoyFS1NKBo5PskUQlr5JRxv4RVjgFCXZR22NxjI%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492350646621_1492350717597_309587217-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=2DISLrYPX0mD7ZkxzdaivyhG3wB1nIR1y9aZg3VdJiQ%3D",                    "fileSize": "2.0M",                    "etag": "278bfe4b3679138ee10e2aba59c5f173",                    "yearAndMonth": "2017041621",                    "minAndSecord": "5044"                }, {                    "from": 1492350518000,                    "to": 1492350584000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492350520216_1492350586648_309583344-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507902581&Signature=oSY5qA%2F3UggFkhNslmx%2BIVPpliEetmbNAwbvLwszXrg%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492350520216_1492350586648_309583344-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=%2Bk951HWWmHZAa7CqIh8pxLgZwhl7%2B0qxOam2cCXQAuE%3D",                    "fileSize": "1.8M",                    "etag": "2abc694e4a9182f47e92098bafc4ab31",                    "yearAndMonth": "2017041621",                    "minAndSecord": "4838"                }, {                    "from": 1492350235000,                    "to": 1492350305000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492350237000_1492350307592_309574423-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507902302&Signature=QOfH822eUjuaQ8DVOTdiD4bc7Ni4uaaUaxAbXIpn2q8%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492350237000_1492350307592_309574423-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=ZOrvXvy1rJPqsTGRNn77b7TvKvw0PecYVQ3D7H2HCSs%3D",                    "fileSize": "1.9M",                    "etag": "30e9f1bd03859bf4eb669cbd7af2cfe2",                    "yearAndMonth": "2017041621",                    "minAndSecord": "4355"                }, {                    "from": 1492349451000,                    "to": 1492349520000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492349453934_1492349523630_309549772-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507901516&Signature=bf51FRXwzoxmBOyG0xpb9jbEcgAgbvP5sCuHqEFZxec%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492349453934_1492349523630_309549772-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=Awx%2Bk6NGR8gQ8MRw0NBnWPjyuKRcqMf4sgj%2FzTRmGxA%3D",                    "fileSize": "1.9M",                    "etag": "e3ca7838481fca638a78001be4faa021",                    "yearAndMonth": "2017041621",                    "minAndSecord": "3051"                }, {                    "from": 1492349361000,                    "to": 1492349431000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492349363915_1492349433931_309546851-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507901426&Signature=aoHi0slGLf%2BeInKBW7z%2Fn49is4EI0wsTiYMRBHREJO0%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492349363915_1492349433931_309546851-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=arOY%2F9Vw59bOIduvl96IhAk0Oj0DAc6TZkEKdQUosOE%3D",                    "fileSize": "1.7M",                    "etag": "737cad4758c358768241934760ddea4b",                    "yearAndMonth": "2017041621",                    "minAndSecord": "2921"                }, {                    "from": 1492349016000,                    "to": 1492349076000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492349018156_1492349078332_309535842-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507901079&Signature=6BaNYeK0Vr%2FftFsX8UYI95ElS3ykoAPp6uv%2BO6SG2DE%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492349018156_1492349078332_309535842-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=QElqihYbZLSzm2hE5tBLYZ%2FjyIkw4X8DrrrD2Cdll%2FA%3D",                    "fileSize": "1.5M",                    "etag": "775a3dc7dbd74151e87e9877f2d75e6b",                    "yearAndMonth": "2017041621",                    "minAndSecord": "2336"                }, {                    "from": 1492348564000,                    "to": 1492348667000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492348566538_1492348669962_309521028-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507900661&Signature=48TR3dXRffJV3yPJkao4cpucFTpvCKEbE0pFn9tmpSM%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492348566538_1492348669962_309521028-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=G4Xkn7IHr2nwtH%2FFqt%2B7mHoC8UtHfNbFIkWvy7perr4%3D",                    "fileSize": "2.6M",                    "etag": "1223f868e54003a8325dbd63cc6f3ba5",                    "yearAndMonth": "2017041621",                    "minAndSecord": "1604"                }, {                    "from": 1492348287000,                    "to": 1492348364000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492348289573_1492348367093_309511801-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507900354&Signature=ZLjLHQ4qQBEi3eWpc8rvJjqCvfymvfr4V7OksqZPd2I%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492348289573_1492348367093_309511801-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=3UT20g5NZuJmY29qeoc%2BZ52%2Bkv%2FVV6r8c9%2B74%2Bd3qoo%3D",                    "fileSize": "1.2M",                    "etag": "d9e3b0b3018407f07ccae2f8e50bbb46",                    "yearAndMonth": "2017041621",                    "minAndSecord": "1127"                }, {                    "from": 1492347919000,                    "to": 1492347978000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492347921811_1492347981547_309499409-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507899987&Signature=%2ByXaAGqui85LiLr%2BQelGBjOvYCWMaXhH3DgXxtb8738%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492347921811_1492347981547_309499409-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=VZVPceTNup75GmG2alf0RnZVGdSW%2BEvBkcDdmyOasd4%3D",                    "fileSize": "1.2M",                    "etag": "94bebf77e216a23c2079867becb2aa63",                    "yearAndMonth": "2017041621",                    "minAndSecord": "0519"                }, {                    "from": 1492347670000,                    "to": 1492347744000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492347672211_1492347746323_309490848-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507899751&Signature=TKQJCOAMIWC8o4CoUYkThBNDtMKAbZoZOAD%2BuEMlYu8%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492347672211_1492347746323_309490848-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=athGIuUkAYF0jkjMkPPAsXh%2Bk0hAFUQCrhh2pRO2dQ4%3D",                    "fileSize": "1.4M",                    "etag": "8f6753d2f439cdbbcd9f17bf27c023da",                    "yearAndMonth": "2017041621",                    "minAndSecord": "0110"                }, {                    "from": 1492347522000,                    "to": 1492347665000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492347524549_1492347667653_309485811-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507899653&Signature=wFFsHFDm52p0T%2FhfxVukPDEjkhJggjvTI4%2BH91VYKGk%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492347524549_1492347667653_309485811-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=%2FRMf2fDConK1iBrI31O6XihneZ7t6cBuEG1o6Bmynpk%3D",                    "fileSize": "2.7M",                    "etag": "8df1b74d9bd68d86ed1d7637c08c1882",                    "yearAndMonth": "2017041620",                    "minAndSecord": "5842"                }, {                    "from": 1492347330000,                    "to": 1492347450000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492347332502_1492347452694_309479251-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507899440&Signature=wXI6xADhvSbUcc29Vq7vuAAv5SAalMiyiueLy6NruWA%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492347332502_1492347452694_309479251-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=GMXknUPlN%2BzGWIgTtBVTV8fWI70ZCzpQHIfVOCtq85k%3D",                    "fileSize": "2.3M",                    "etag": "77265fb60a45cf0f22abca50d7b2a3e2",                    "yearAndMonth": "2017041620",                    "minAndSecord": "5530"                }, {                    "from": 1492347110000,                    "to": 1492347187000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492347112209_1492347189905_309471715-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507899176&Signature=b46uSII%2F9YJj38gQLi1LfRyds%2FE6iGy5uBz8uej3EfY%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492347112209_1492347189905_309471715-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=e%2BP01eRPIB1p6EYmSMX%2F24VXoRtcXcIP8mTE4FYtd%2BU%3D",                    "fileSize": "1.4M",                    "etag": "d107b66f68f4a2633b0f16e2797df6da",                    "yearAndMonth": "2017041620",                    "minAndSecord": "5150"                }, {                    "from": 1492345059000,                    "to": 1492345138000,                    "prevImgUrl": "http://nos.netease.com/smartcamera/qingguo_1492345061654_1492345141078_309399447-00000_img.jpg?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1507897126&Signature=M26kaOrg8veSZ%2BV3W5eJT%2Bo5r8rxxfVQDuOqsa%2FQDjk%3D",                    "url": "http://nos.netease.com/smartcamera/qingguo_1492345061654_1492345141078_309399447-00000.mp4?NOSAccessKeyId=1faa1d9d8a7b427788c2c44af518cf3c&Expires=1508060163&Signature=UPzEZmNDl6HhEaZBeGYPzbWmjf7gQJ9BupDOk2GoQcs%3D",                    "fileSize": "1.3M",                    "etag": "9d287cd1db21f994c20137f100307208",                    "yearAndMonth": "2017041620",                    "minAndSecord": "1739"                }],                "size": 40            }        },        init: function() {            this.initCtrol();            this.getData();            this.bind();            setTimeout(function() {                var main = new pages({});                main.$inject('#playHere');            }, 0)        },        /**         * 初始化控件         * @return {} [description]         */        initCtrol: function() {            //提示框            this.tip = util.tip();        },        getData: function() {            this.data.config.deviceId = Base64.decode(util.getQueryString('id'));            this.data.config.cameraName = Base64.decode(util.getQueryString('name'));            this.data.show.query.deviceId = this.data.config.deviceId;            this.getDeviceDetail();            console.info('领导', window.location.hash);            this.getPlay();            this.getMyRecord();        },        /**         *获取单个设备信息         */        getDeviceDetail: function() {            var self = this;            util.rest(api.DEVICE.getDeviceConfig, {                param: {                    deviceId: this.data.config.deviceId                },                method: 'post',                onload: function(data) {                    console.info('成功getDeviceConfig', data);                    /* config: {                switchRun: 0, //运行开关                switchNight: 0, //夜视模式                switchVoice: 0, //声音开关                switchPic: 0, //画面清晰度                switchRotate: 0, //画面颠倒                deviceId: '', // 设备id                cameraName: '' //设备名称            },*/                    self.data.config.switchRun = data.deviceSwitch;                    self.data.config.switchNight = data.nightVisionSwitch;                    self.data.config.switchVoice = data.audioSwitch;                    self.data.config.switchPic = data.clarity;                    self.data.config.switchRotate = data.rotateSwitch;                    self.data.config.switch = data.uploadSwitch; //云存储开关                    self.$update();                },                onerror: function(data) {                    console.info('失败', data);                    self.tip.showErrorTip(data.message || '操作失败，请稍后重试')                }            });        },        /**         * 播放摄像机（直播地址）         */        getPlay: function() {            return;            var self = this;            util.rest(api.DEVICE.playDevice, {                param: {                    deviceId: this.data.config.deviceId                },                method: 'post',                onload: function(data) {                    console.info('成功playDevice', data);                    self.$update();                },                onerror: function(data) {                    console.info('失败', data);                    self.tip.showErrorTip(data.message || '操作失败，请稍后重试')                }            });        },        /**         * [获取我的录像]         * @return {[type]} [null]         */        getMyRecord: function() {            var self = this;            util.rest(api.DEVICE.deviceRecords, {                param: this.data.show.query,                method: 'post',                onload: function(data) {                    console.info('成功', data,self.data.myRecordList);                    return                    self.data.myRecordList.record = data.result;                    self.renderList(data.result);                },                onerror: function(data) {                    console.info('失败', data);                    data = self.data.testData;                    return                    self.data.show.myRecordList.record = data.result;                    self.renderList(data.result);                    return;                    if (data.code == 405) {                        self.data.myRecordList.noPower = true;                        self.$update();                    } else if (data.code == 403) {                        self.data.myRecordList.noPower = true;                        self.$update();                    }                }            });        },        /**         * 绑定事件         */        bind: function() {            var self = this;            function scrollHandler() {                //首页下拉刷新                var isBottom = util.getScrollTop() + util.getWindowHeight() > util.getScrollHeight() - 500;                if (self.data.show.nav == 2 && isBottom) {                    console.info('克隆空间', self.data);                    // 显示loading,向服务器发起请求                    if (self.data.show.myRecordList.loadStatus) {                        self.data.show.query.offset = Number(self.data.show.query.offset) + self.data.query.limit;                        util.rest(api.DEVICE.deviceRecords, {                            param: self.data.show.query,                            method: 'post',                            onload: function(data) {                                console.info('成功', data)                                if (data.records.length == 0) {                                    self.data.show.myRecordList.more = false;                                    self.data.show.myRecordList.loadStatus = false;                                    return;                                }                                Array.prototype.push.apply(self.data.show.myRecordList.record, data.records);                                self.renderList(data.records);                                self.$update();                            },                            onerror: function(data) {                                console.info('失败', data)                                data = self.data.testData;                                Array.prototype.push.apply(self.data.show.myRecordList.record, data.records);                                self.renderList(data.records);                                self.$update();                                return;                                //网络超时                                if (data.code == 403) {                                    self.data.show.myRecordList.noPower = true;                                }                                self.data.show.myRecordList.loadStatus = false;                                self.$update();                                self.tip.showErrorTip('失败，请稍后重试');                            }                        });                    }                }            }            // 函数节流            function throttle(method, context) {                clearTimeout(method.tId);                method.tId = setTimeout(function() {                    method.call(context);                }, 50);            }            // 窗口滚动时触发            window.onscroll = function() {                // UI 先显示，不进入节流函数中                var isBottom = util.getScrollTop() + util.getWindowHeight() > util.getScrollHeight() - 500;                if (self.data.show.nav == 2 && isBottom) {                    //判断是否有更多摄像机                    if (self.data.show.myRecordList.more && !self.data.show.myRecordList.noPower) {                        self.data.show.myRecordList.loadStatus = true;                        self.$update();                    }                }                throttle(scrollHandler, window);            };        },        /**         * 播放云录像         * @param  {String} url 录像地址         */        renderVideo: function(url) {            var video = new videoPlay({                data: {                    url: url                }            });            video.$inject('body');        },        /**         * [渲染录像列表]         * @param  {[type]} list [录像列表]         * @return {[type]}      [null]         */        renderList: function(list) {            var self = this;            if (list.length == 0) {                self.data.show.myRecordList.noRecord = true;                this.$update();                return;            }            $.each(list, function(index, element) {                var myRecord = element;                var recordListPerHour = self.data.show.recordListPerHour;                var len = recordListPerHour.length;                if (self.data.show.renderListDay == myRecord.yearAndMonth) {                    recordListPerHour[len - 1].valueList.push(myRecord);                } else {                    self.data.show.renderListDay = myRecord.yearAndMonth;                    //默认展开                    var recordInHourObj = {                        valueList: [],                        isHold: false,                        yearAndMonth: myRecord.yearAndMonth                    };                    recordInHourObj.valueList.push(myRecord);                    self.data.show.recordListPerHour.push(recordInHourObj);                }            });            self.$update();        },        /**         * 导航切换         * @param  {Number} index 点击的导航序号         */        nav: function(index) {            this.data.show.nav = index;            console.info('nav')            window.location.hash = index == 1 ? 'set' : 'cloud';            this.$update();        },        /**         * 收起展开         */        showCloud: function(event, num) {            if (Regular.dom.hasClass(event.origin.parentElement.parentElement, 'cloud-show')) {                Regular.dom.delClass(event.origin.parentElement.parentElement, 'cloud-show');                event.origin.parentElement.nextElementSibling.style.height = 0;            } else {                Regular.dom.addClass(event.origin.parentElement.parentElement, 'cloud-show');                event.origin.parentElement.nextElementSibling.style.height = num = Math.ceil(num / 4) * 138 + 'px';            }        },        /**         * 操作显示列表         */        onShow: function(event) {            Regular.dom.addClass(event.origin, 'live');        },        /**         * 操作隐藏列表         */        onHide: function(event) {            Regular.dom.delClass(event.origin, 'live');        },        /**         * 设置摄像机属性         * SwitchType枚举定义：         *            1:摄像机开关(0为关闭，1为开启)         *            2:报警开关(0为关闭，1为开启)         *            3:云录像开关(0为关闭，1为开启)         *            4:状态灯开关(0为关闭，1为开启)         *            5:音频开关(0为关闭，1为开启)         *            6:画面翻转(摄像头图像旋转180度。0为恢复，1为旋转。设置旋转后实时视频、录像、告警均需倒置)         *            7:自动夜视开关(0为关闭，1为自动切换，2为强制开启)         *            8:曝光开关(0:自动(默认) 1:暗区优先 2:亮区优先)         *            9:音量开关 (0:高(默认) 1:中 2:         *            10:清晰度 (0:高(默认) 1:中 2:低)         */        setDeviceConfig: function() {            var self = this;            if (self.data.show.load) {                return;            }            //弹出框            var confirmDialog = new dialog({                data: {                    pro: {                        id: 'confirmDialog',                        single: false,                        title: '是否要保存本次设置？',                        height: 'auto',                        confirmBtnText: '确定',                        confirmCallback: function() {                            console.info(999, self.data.show)                            self.data.show.load = true;                            self.$update();                            util.rest(api.DEVICE.setDeviceConfig, {                                param: {                                    deviceId: self.data.config.deviceId,                                    switches: [{                                        "switchType": 1,                                        "switchValue": self.data.config.switchRun                                    }, {                                        "switchType": 7,                                        "switchValue": self.data.config.switchNight                                    }, {                                        "switchType": 5,                                        "switchValue": self.data.config.switchVoice                                    }, {                                        "switchType": 10,                                        "switchValue": self.data.config.switchPic                                    }, {                                        "switchType": 6,                                        "switchValue": self.data.config.switchRotate                                    }]                                },                                method: 'post',                                onload: function(data) {                                    console.info('成功', data);                                    self.data.show.load = false;                                    self.$update();                                    self.tip.showSuccessTip('设置成功');                                },                                onerror: function(data) {                                    console.info('牺牲', data);                                    self.data.show.load = false;                                    self.$update();                                    self.tip.showErrorTip('设置失败，请稍后重试');                                }                            });                        },                        cancelBtnText: '取消',                        cancelCallback: function() {}                    }                },                template: '<diglogTpl pro={pro}>\                                <p class="u-pdt18"></p>\                            </diglogTpl>'            });            confirmDialog.$inject('body');        },        /**         * 开关云存储         */        uploadSwitch: function(value) {            var self = this;            util.rest(api.DEVICE.setDeviceConfig, {                param: {                    deviceId: self.data.config.deviceId,                    switches: [{                        "switchType": 3,                        "switchValue": value                    }]                },                method: 'post',                onload: function(data) {                    console.info('成功', data);                    self.data.config.switch = value;                    self.$update();                    self.tip.showSuccessTip('设置成功');                },                onerror: function(data) {                    console.info('牺牲', data);                    self.tip.showErrorTip('设置失败，请稍后重试');                }            });        },        /**         * 显示弹窗服务购买协议         */        showAgreement: function() {            //弹出框            var agreementDialog = new dialog({                data: {                    pro: {                        id: 'agreementDialog',                        single: false,                        title: '',                        width: '642px',                        height: 'auto',                        noBtn: false                    }                },                template: '<diglogTpl pro={pro}>\                                <div class="buy-agreement">\                                    <h2 class="title">收费标准及说明</h2>\                                    <p class="text">尊敬的青果用户：</p>\                                    <p class="text">云存储为单独付费项目，收费标准及服务说明如下</p>\                                    <table class="price-say">\                                        <thead>\                                            <th>服务内容</th>\                                            <th>价格</th>\                                            <th>期限</th>\                                        </thead>\                                        <tbody>\                                            <tr>\                                                <td>7天循环云存储</td>\                                                <td>109元/台</td>\                                                <td>1年</td>\                                            </tr>\                                            <tr>\                                                <td>30天循环云存储</td>\                                                <td>289元/台</td>\                                                <td>1年</td>\                                            </tr>\                                        </tbody>\                                    </table>\                                    <h2 class="title">服务说明：</h2>\                                    <p class="text"> 青果云存储服务，可实时侦测识别摄制过程中的动态画面，并将动态画面以录像形式安全地存储在网易云端。</p>\                                    <p class="text">青果同时提供7天/30天的循环录制两种服务，方便管理者随时回溯、查看和下载近7天/30天的动态录像。</p>\                                    <h2 class="title title2">欢迎洽询客服，按需选择7天或30天云存储服务：</h2>\                                    <p class="text">电话：0571-89852694</p>\                                    <p class="text">Q Q：237087854</p>\                                    <p class="text">感谢您对青果的支持和信赖，我们竭诚为您提供更贴心的服务，谢谢！</p>\                                </div>\                            </diglogTpl>'            });            agreementDialog.$inject('body');        }    });    // 时间格式化.    app.filter('parseDate', function(v) {        return v ? util.getFormatDate(v) : "-";    });    app.filter('parseHour', function(v) {        return v ? util.getFormatDate(v, true) : "-";    });    app.filter('parseMonthDayHour', function(v) {        var year = '',            month = '',            day = '',            strShow = '';        if (!v) {            v = "-";            return;        }        day = v.substring(v.length - 4, v.length - 2);        month = v.substring(v.length - 6, v.length - 4);        year = v.substring(0, v.length - 6);        strShow = year + '年' + month + '月' + day + '日';        return v ? strShow : "-";    });    app.filter('parseTimeSection', function(v) {        var year = '',            month = '',            day = '',            strShow = '';        if (!v) {            v = "-";            return;        }        hour = v.substring(v.length - 2, v.length);        strShow = hour + ':00-' + (parseInt(hour) + 1) + ':00';        return v ? strShow : "-";    });    app.filter('coverFileRec', function(v) {        v += /\?/.test(v) ? '&vframe' : '?vframe';        return v;    });    // 图片地址裁剪参数    app.filter('coverFile', function(v) {        v += /\?/.test(v) ? '&resize=162x87' : '?resize=162x87';        return v;    });    app.filter('http2https', function(v) {        v = /\http:/.test(v) ? v.replace('http:', 'https:') : '';        return v;    });    return app;});