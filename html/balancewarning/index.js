define(['regularjs', 'jquery', '../../javascript/base/util', '../../html/login/index.html', '../../javascript/3rd/anime.js', '../../javascript/3rd/clipboard.js', '../../javascript/widget/tip.js', '../../javascript/widget/dialog.js'], function(Regular, $, util, login, anime, Clipboard, tip, dialog) {    require('../../css/login.css')    var page = Regular.extend({        template: login,        data: {            //登陆账户密码            user: {                account: '',                pwd: ''            },            show: {                total: null,                isLoading: false,            }        },        init: function() {            console.info(tip,dialog)            //提示框            this.tip = new tip();            this.tip.$inject('body');            this.initPage();        },        addPhoneVerify: function(data) {            var addPhoneVerifyDialog = new dialog({                data: {                    pro: {                        id: 'addPhoneVerify',                        single: false,                        singleCenter: true,//一个居中按钮                        title: '添加手机号',                        confirmBtnText: '下一步',                        confirmCallback: function() {                            console.info(this)                            self.addPhoneVerify(this.addPhone);                        },                        cancelBtnText: '取消',                        cancelCallback: function() {},                        isAnimate: true,//是否有动画                        isFull: false,//是否添加溢出 == 5                        addPhone: '',//增加的手机号码                        message: ''//删除的手机号码                    }                },                template: '<diglogTpl pro={pro}>\                                <span>添加手机号</span>\                                <input type="text" r-model={pro.addPhone} />\                                <input type="text" r-model={pro.message}/>\                            </diglogTpl>'            });            addPhoneVerifyDialog.$inject('body');            console.info(this.dialog)        },        modifyDialog: function() {            var self = this;            //弹出框            this.dialog = new dialog({                data: {                    pro: {                        id: 'modifyDialog',                        single: false,                        singleCenter: true,//一个居中按钮                        title: '添加手机号',                        confirmBtnText: '下一步',                        confirmCallback: function() {                            console.info(this)                            this.isAnimate = false;                            self.addPhoneVerify(this.addPhone);                        },                        cancelBtnText: '取消',                        cancelCallback: function() {},                        isAnimate: true,//是否有动画                        isFull: false,//是否添加溢出 == 5                        phoneList: [12312,22222],//手机号码列表                        addPhone: '',//增加的手机号码                        delPhone: ''//删除的手机号码                    }                },                template: '<diglogTpl pro={pro}>\                                <span>已添加的手机号（最多可添加5个）：</span>\                                {#list pro.phoneList as item}\                                <dl data-index={iten_index}>\                                    <dt>{item}</dt>\                                    <dd on-click={this.delPhone()}>x</dd>\                                </dl>\                                {/list}\                            </diglogTpl>'            });            this.dialog.$inject('body');            console.info(this.dialog)        },        login: function() {             console.info(888)            this.modifyDialog();                            var result = this.verify();            if (result.error) {                this.tip.showError(result.errmsg);                return;            }            console.info('send')        },        /**         * 校验账号密码输入         */        verify: function() {            console.info(111,util.trim(this.data.user.account))            if (!util.trim(this.data.user.account)) {                return {                    error: true,                    errmsg: '邮箱不能为空！'                }            }            if (!util.trim(this.data.user.pwd)) {                return {                    error: true,                    errmsg: '密码不能为空！'                }            }            //^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$            return {                account: this.data.user.account,                pwd: this.data.user.pwd            };        },        testClick: function() {            this.tip.showError('测试成功1');        },        /**         * 纯JS实现复制文本到剪切板（支持Chrome 42+ Firefox 41+ IE 9+ Opera 29+,不支持safair）         */        copy: function() {            var clipboard = new Clipboard('.j-copy');            clipboard.on('success', function(e) {                console.log(e);            });            clipboard.on('error', function(e) {                console.log(e);            });        },        /**         * 页面初始化         * @param  {[Number]} deviceid 设备id         * @return {[type]}         */        initPage: function() {        },        showDialog: function() {            $('#dialog').removeClass('animated bounceOutUp').addClass('animated bounceInDown')        },        closeDialog: function() {            $('#dialog').removeClass('animated bounceInDown').addClass('animated bounceOutUp')        }    });    return page;});